<launch> 
	<!-- Start Hokuyo LIDAR data collection   -->
	<node pkg= "hokuyo_node"  type="hokuyo_node" name= "hokuyo_node" args="_port:=/dev/sensor-front_wobbler_lidar" /> 

	<!-- Open communication driver between ROS and the dynamixel motor for the front wobbler. -->
	<node pkg= "baxter_gripper"  type= "dynamixel_motor_node" name= "dynamixel_motor_driver" args="-baud 34 -tty 999 -m 0" output="screen" /> 
	<!--  NOTE: The wobblers motor gets two synonymous symlinks for its device because the dynamixel motor requires a device name in the form of "/dev/ttyUSBx", where x is an integer for the driver code. We chose this to be x = 999 to not conflict. The other one is the normal sensor-front_wobbler_motor format. -->

	<!-- Parameters for the dynamixel motor driver, giving the IDs of all the motors and how to connect to them-->
	<param name="motor0_id" value="0" />
	<param name="motor1_id" value="1" />
	<param name="motor_tty" value="999" />
	<param name="motor_baud" value="34" />

	<!-- Static transform between lidar_link frame and joint frame   -->
	<node pkg= "babs_lidar_wobbler"  type= "wobbler_joint_static_tf" name= "wobbler_joint_static_tf" /> 
	<!-- Parameters for the lidar frame transform   -->
	<param name="dist_to_joint_x" value="-0.175" />
	<param name="dist_to_joint_y" value="0.15" />
	<param name="dist_to_joint_z" value="0.6" />
	<param name="rot_to_joint_r" value="0.0" />
	<param name="rot_to_joint_p" value="0.0" />
	<param name="rot_to_joint_y" value="3.14159265359" />

	<!-- Transform dependent on joint angle between joint and the wobbling LIDAR lasers source.   -->
	<node pkg= "babs_lidar_wobbler"  type= "wobbler_laser_tf" name= "wobbler_laser_tf" /> 
	<!-- Dummy params for node.   -->
	<param name="factor" value="1" />
	<param name="factor2" value="0.5" />

	<!-- Publishes a wobbling motion for the dynamixel motor driver node.   -->
	<node pkg= "babs_lidar_wobbler"  type= "motor_wobble" name= "motor_wobble" output="screen"/> 
	<!-- Params for node.   -->
	<param name="min_angle" value="500" /> <!-- TRENT CHANGE TO 300 IMMEDIATELY -->
	<param name="max_angle" value="800" />
	<param name="wobble_speed" value="1" /> <!-- TRENT CHANGE TO 3 IMMEDIATELY -->
	<param name="front_motor_id" value="1" />
	<param name="rear_motor_id" value="2" />

	<!-- Publishes point clouds transformed to the lidar_link frame from the hokuyo LaserScans, using Dynamixel motor information. -->
	<node pkg= "babs_lidar_wobbler" type= "lidar_transformer2" name= "lidar_transformer2" />

	<!-- Stitches together point clouds of a single scan into a point cloud of a single one-way sweep of the wobbler, based on motor angle. -->
	<node pkg= "babs_lidar_wobbler" type= "hokuyo_pcl_stitcher" name= "hokuyo_pcl_stitcher" />

</launch>
